<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>

    <style>
      #stage {
        position: relative;
        width: 400px;
        height: 500px;
        border: 1.5px solid black;
      }
  
      #player {
        position: absolute;
        width: 50px;
        height: 50px;
        bottom: 10px;
        left: 10px;
        transform: scaleX(-1);
      }

      #enemy {
        position: absolute;
        width: 50px;
        height: 50px;
        bottom: 5px;
        right: 10px;
        transform: scaleX(-1);
      }
    </style>
</head>
<body>
  <div id="stage">
    <img id="player" src="ZzangGu.png">
    <img id="enemy" src="WhiteDog.png">
  </div>

  <script>
    const player = $('#player');
    const enemy = $('#enemy');
    
    // 점프 상태
    let isJumping = false;

    // 계속 실행될 함수
    function onUpdate() {
      moveEnemy();
    }

    function moveEnemy() {
      enemy.css({ left: '-=3px' });

      // 나갔으면 원래 위치로 이동
      const enemyLeft = parseInt(enemy.css('left'), 10);
      if (enemyLeft < -100) {
        enemyReset();
      }
    }

    function enemyReset() {
      enemy.css({ left: '340px' })
    }

    function jump() {
      if (isJumping) {
        return;
      }

      isJumping = true;
      player.animate({ bottom: '+=50px' });
      player.animate({ bottom: '-=50px' }, function () {
        isJumping = false;
      });
    }

    $(document).keydown(function (event) {

      switch (event.key) {
        case ' ':
          jump();
          break;
        default:
      }
    });
    
    // 1초에 60프레임 이동
    setInterval(onUpdate, 1000 / 60)
  </script>
</body>
</html>